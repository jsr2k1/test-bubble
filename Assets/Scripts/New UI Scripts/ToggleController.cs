using UnityEngine;
using UnityEngine.UI;
using System.Collections;
using UnityEngine.EventSystems;

public class ToggleController : MonoBehaviour, IPointerClickHandler
{
	AudioSource audioSource;
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	void Awake()
	{
		audioSource = GameObject.Find("AudioManager").audio;
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public void OnPointerClick(PointerEventData data)
	{
		int i = PlayerPrefs.GetInt("Sounds");
		if(i>0){
			audio.Play();
		}
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public void SetMusic(bool b)
	{
		if(b){
			PlayerPrefs.SetInt("Music", 1);
			audioSource.Play();
		}else{
			PlayerPrefs.SetInt("Music", 0);
			audioSource.Stop();
		}
	}
	
	//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	public void SetSounds(bool b)
	{
		if(b){
			PlayerPrefs.SetInt("Sounds", 1);
		}else{
			PlayerPrefs.SetInt("Sounds", 0);
		}
	}
}

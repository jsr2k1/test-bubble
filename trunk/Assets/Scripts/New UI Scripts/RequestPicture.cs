using UnityEngine;
using System.Collections;
using UnityEngine.UI;

public class RequestPicture : MonoBehaviour
{
	Image image;
	public string id;
	
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	void Awake()
	{
		image = GetComponent<Image>();
	}
	
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	
	void Start()
	{
		StartCoroutine(GetPicture());
	}
	
	////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
	//Obtenemos la imagen de facebook y la ponemos en la request
	IEnumerator GetPicture()
	{
		if(FacebookManager.instance.friendsDict.ContainsKey(id)){
			image.sprite = FacebookManager.instance.friendsDict[id].profilePicture;
		}else{
			yield return new WaitForSeconds(1);
			StartCoroutine(GetPicture());
		}
	}
}
